<!DOCTYPE html>
<html>
<head>
	<title>Item Submission Form</title>
	<script>
        function previewImage() {
          var file = document.getElementById("image").files[0];
          if (file) {
            var reader = new FileReader();
            reader.onload = function() {
              var img = document.getElementById("preview");
              img.src = reader.result;
            };
            reader.readAsDataURL(file);
          }
        }
// 		function validateForm() {
//   var fileInput = document.getElementById("image");

//   // Display loading screen
//   var loadingScreen = document.createElement('div');
//   loadingScreen.classList.add('loading-screen');
//   document.body.appendChild(loadingScreen);

//   // Make API call
//   var formData = new FormData(document.getElementById("item-form"));
//   fetch('/action/addItem', {
//     method: 'POST',
//     body: formData
//   })
//   .then(response => {
// 	console.log(response);
//     // Check for errors
//     if (!response.status) {
//       throw new Error(response.status);
//     }

//     // Success message
//     alert("Item added successfully.");
//   })
//   .catch(error => {
//     // Error message
//     alert("Error: " + error.message);
//   })
//   .finally(() => {
//     // Hide loading screen after a 5-second delay
//     setTimeout(() => {
//       document.body.removeChild(loadingScreen);
//     }, 5000);
//   });

//   return false;
// }




        </script>
	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	<!-- Custom CSS -->
	<style>
		.loading-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
  }

  .loading-screen::before {
    content: "";
    width: 50px;
    height: 50px;
    border-radius: 50%;
    border: 3px solid #ffffff;
    border-top-color: #4a4a4a;
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
		.container {
			display: flex;
			flex-direction: row;
			justify-content: space-between;
			align-items: center;
		}

		.left-side {
			flex: 1;
			padding: 20px;
		}

		.right-side {
			flex: 1;
			padding: 20px;
		}

		.form-control-label {
			font-weight: bold;
		}

		.submit-button {
			margin-top: 20px;
		}
		.resized-image {
  width: 400px; 
  height: 400px;
}
	</style>
</head>
<body>
	<nav class="navbar navbar-expand-lg navbar-light bg-light">
		<a class="navbar-brand" href="#">Add Items</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
		  <span class="navbar-toggler-icon"></span>
		</button>
	  
		<div class="collapse navbar-collapse" id="navbarSupportedContent">
		  <ul class="navbar-nav mr-auto">
			<li class="nav-item active">
			  <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
			</li>
			<li class="nav-item">
			  <a class="nav-link" href="#">Link</a>
			</li>
			<li class="nav-item dropdown">
			  <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				Dropdown
			  </a>
			  <div class="dropdown-menu" aria-labelledby="navbarDropdown">
				<a class="dropdown-item" href="#">Action</a>
				<a class="dropdown-item" href="#">Another action</a>
				<div class="dropdown-divider"></div>
				<a class="dropdown-item" href="#">Something else here</a>
			  </div>
			</li>
			<li class="nav-item">
			  <a class="nav-link disabled" href="#">Disabled</a>
			</li>
		  </ul>
		  <form class="form-inline my-2 my-lg-0" action="/logout">
			
			<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Logout</button>
		  </form>
		</div>
	  </nav>
		
	<div class="container">
		<div class="input-group-append">
			<img id="preview" class="resized-image" \>
			
		  </div>
		<!-- <form id="item-form" method="POST" action="/action/addItem" enctype="multipart/form-data"> -->
			<form id="item-form" method="POST" action="/action/addItem" enctype="multipart/form-data">

		<div class="left-side">
			<h2>Item Submission Form</h2>
			<h2>Select Picture</h2>
			<div class="input-group mb-3">
			
                <input type="file"  class="form-control" id="image" name="photo" accept="image/*" onchange="previewImage()">
            </div>
                <label class="input-group-text" for="image">Upload Image</label>
               
             
           
		</div>
		<div class="right-side">
			
			
				<div class="form-group">
					<label for="item-name" class="form-control-label">Item Name</label>
					<input type="text" class="form-control" id="itemname" name="itemname" required>
				</div>
				<div class="form-group">
					<label for="item-description" class="form-control-label">Item Description</label>
					<textarea class="form-control" id="itemdescription" name="itemdescription" rows="1" required></textarea>
				</div>
				<div class="form-group">
					<label for="item-price" class="form-control-label">Item Price (Rs.)</label>
					<input type="number" class="form-control" id="itemprice" name="itemprice" required>
				</div>
                <div class="form-group">
					<label for="item-category" class="form-control-label">Item Category</label>
					<select class="form-control" id="itemcategory" name="itemcategory">
						<option value="Fast Food">Fast Food</option>
						<option value="Khaja Set">Khaja Set</option>
						<option value="Khana Set">Khana Set</option>
                        <option value="Soft Drinks">Soft Drinks</option>
                        <option value="Hard Drinks">Hard Drinks</option>
					</select>
				</div>
                <div class="form-group">
					<label for="item-section" class="form-control-label">Item Section</label>
					<select class="form-control" id="itemsection" name="itemsection">
                        <option value="None">None</option>
						<option value="section-2">Breakfast</option>
						<option value="section-3">Lunch</option>
						<option value="section-4">Dinner</option>
					</select>
				</div>
				
				<div class="form-group">
					<div class="form-check">
						<label for="item-favorites" class="form-control-label">Popular Item</label>
						<div class="form-check form-check-inline">
							<input class="form-check-input" type="radio" name="itemfavorites" id="itemfavorites" value="true">
							<label class="form-check-label" for="inlineRadio1">Yes</label>
						  </div>
						  <div class="form-check form-check-inline">
							<input class="form-check-input" type="radio" name="itemfavorites" id="itemfavorites" value="false" checked>
							<label class="form-check-label" for="inlineRadio2">No</label>
						  </div>
					</div>
				</div>
				<button type="submit" class="btn btn-primary submit-button">Submit</button>
			</form>
		</div>
	</div>
        </body>
        </html>